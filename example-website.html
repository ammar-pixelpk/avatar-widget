<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Website - AI Chat Support</title>
    
    <!-- Include AvatarWidget styles -->
    <link rel="stylesheet" href="./assets/ai-avatar.css">
    
    <!-- Your existing website styles -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
        }

        h1 {
            color: #2d3748;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            color: #666;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-card h3 {
            color: #7559FF;
            margin-bottom: 15px;
        }

        .cta {
            background: rgba(117, 89, 255, 0.9);
            color: white;
            padding: 40px;
            border-radius: 10px;
            text-align: center;
            margin: 30px 0;
        }

        .cta h2 {
            margin-bottom: 15px;
        }

        .cta-button {
            background: white;
            color: #7559FF;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .cta-button:hover {
            transform: scale(1.05);
        }

        /* Chat widget container - fixed position */
        .avatar-widget-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 9999;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            h1 {
                font-size: 2rem;
            }

            .avatar-widget-container {
                bottom: 15px;
                right: 15px;
            }
        }

        /* Status indicator */
        .widget-status {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 14px;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .widget-status.error {
            background: #f44336;
        }
    </style>
</head>
<body>
    <!-- Widget Status Indicator -->
    <div id="widget-status" class="widget-status" style="display: none;">
        Widget Loading...
    </div>

    <div class="container">
        <!-- Header Section -->
        <header>
            <h1>üöÄ Welcome to My Amazing Website</h1>
            <p class="subtitle">Experience the future with AI-powered customer support</p>
            <p>This is your existing website with the AvatarWidget integrated seamlessly. Look for the purple chat button in the bottom-right corner!</p>
        </header>

        <!-- Features Section -->
        <div class="features">
            <div class="feature-card">
                <h3>ü§ñ AI-Powered Support</h3>
                <p>Get instant answers to your questions with our intelligent AI avatar. Available 24/7 to help with any inquiries.</p>
            </div>

            <div class="feature-card">
                <h3>üí¨ Natural Conversations</h3>
                <p>Chat naturally with our AI assistant. It understands context and provides personalized responses.</p>
            </div>

            <div class="feature-card">
                <h3>‚ö° Lightning Fast</h3>
                <p>No waiting for human agents. Get immediate responses and solutions to your problems.</p>
            </div>

            <div class="feature-card">
                <h3>üéØ Smart & Accurate</h3>
                <p>Trained on your specific knowledge base to provide accurate, relevant information.</p>
            </div>
        </div>

        <!-- Call to Action -->
        <div class="cta">
            <h2>Ready to Get Started?</h2>
            <p>Click the purple chat button in the bottom-right corner to start talking with our AI assistant!</p>
            <button class="cta-button" onclick="highlightWidget()">Find Chat Button</button>
        </div>

        <!-- Your existing website content continues here... -->
        <div style="height: 500px; background: rgba(255,255,255,0.8); border-radius: 10px; padding: 30px; margin: 20px 0;">
            <h2>Your Regular Website Content</h2>
            <p>This would be your normal website content. The chat widget is completely separate and doesn't interfere with your existing design.</p>
            <br>
            <p>Users can browse your site normally and access the AI chat whenever they need help.</p>
        </div>
    </div>

    <!-- AvatarWidget Container (Fixed Position Chat Button) -->
    <div class="avatar-widget-container">
        <div id="ai-chat-assistant"></div>
    </div>

    <!-- Load React Dependencies (Required for the widget) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Load AvatarWidget Bundle -->
    <script src="./assets/avatar-widget.umd.js"></script>
    
    <!-- Initialize the AvatarWidget -->
    <script>
        // Configuration
        const AVATAR_CONFIG = {
            knowledgeID: '68e604b9028f2f5066e31678', // Replace with your knowledge ID
            avatarId: 'Tyler-insuit-20220721',         // Choose your avatar
            openingMessage: 'Hello! üëã I\'m your AI assistant. How can I help you today?'
        };

        // Status functions
        function showStatus(message, isError = false) {
            const status = document.getElementById('widget-status');
            status.textContent = message;
            status.className = `widget-status ${isError ? 'error' : ''}`;
            status.style.display = 'block';
            
            // Auto-hide after 3 seconds if success
            if (!isError) {
                setTimeout(() => {
                    status.style.display = 'none';
                }, 3000);
            }
        }

        function highlightWidget() {
            const widgetContainer = document.querySelector('.avatar-widget-container');
            if (widgetContainer) {
                // Add a pulse animation
                widgetContainer.style.animation = 'pulse 1s ease-in-out 3';
                setTimeout(() => {
                    widgetContainer.style.animation = '';
                }, 3000);
            }
        }

        // Initialize widget when page loads
        document.addEventListener('DOMContentLoaded', function() {
            showStatus('Loading AI Assistant...');
            
            try {
                // Check if widget function is available
                if (typeof window.renderAvatarWidget === 'function') {
                    // Render the widget
                    window.renderAvatarWidget('ai-chat-assistant', AVATAR_CONFIG);
                    showStatus('‚úÖ AI Assistant Ready!');
                    
                    console.log('AvatarWidget initialized successfully');
                } else {
                    throw new Error('AvatarWidget function not available');
                }
            } catch (error) {
                console.error('AvatarWidget initialization failed:', error);
                showStatus('‚ùå Failed to load AI Assistant', true);
            }
        });

        // Handle any JavaScript errors
        window.addEventListener('error', function(e) {
            console.error('Page error:', e.error);
            showStatus('‚ùå Widget Error: ' + e.message, true);
        });

        // Add pulse animation keyframes
        const style = document.createElement('style');
        style.textContent = `
            @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.1); box-shadow: 0 0 20px rgba(117, 89, 255, 0.6); }
                100% { transform: scale(1); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>